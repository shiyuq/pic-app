(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-picEdit-picEdit"],{"113c":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.status[data-v-00e35dae]{background-color:#fff;height:130.5px;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:10px}.status .upper[data-v-00e35dae]{font-size:18px;font-weight:800;color:#217bfb;margin-bottom:18px}.status .downer[data-v-00e35dae]{font-size:16px;font-weight:500;color:#000}.upload[data-v-00e35dae]{height:166px;width:100%;background-color:#fff}.upload .upload-main[data-v-00e35dae]{padding:17.5px 15px;height:131px}.upload .upload-main img[data-v-00e35dae]{height:100%;width:100%;border-radius:5px}.upload .upload-else[data-v-00e35dae]{display:flex;height:166px;justify-content:center;align-items:center}.upload .upload-else .bgc[data-v-00e35dae]{background-color:#e9eff7;width:80px;height:80px;border-radius:50%;display:flex;justify-content:center;align-items:center}.upload .upload-else .bgc img[data-v-00e35dae]{width:34px;height:31px}.goods-info[data-v-00e35dae]{margin:10px 0}.goods-info .line[data-v-00e35dae]{background-color:#fff;height:48px;padding:0 15px;display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;margin-bottom:1px}.goods-info .line .star[data-v-00e35dae]{line-height:48px;color:#f61212;margin-right:2px}.goods-info .line .line-name[data-v-00e35dae]{line-height:48px;font-size:16px;font-weight:500;color:#000}.goods-info .line .selector[data-v-00e35dae]{line-height:48px;margin-left:auto}.goods-info .line .selector .select[data-v-00e35dae]{font-size:15px;font-weight:500;color:#ccc}.goods-info .line .selector .line-select-new[data-v-00e35dae]{text-align:right;color:#333;font-size:15px;font-weight:500}.goods-info .line .line-right[data-v-00e35dae]{margin-left:auto;text-align:right;font-size:15px}.select[data-v-00e35dae]{border:0}.goods-name[data-v-00e35dae]{margin:10px 0;background-color:#fff}.goods-name .part3-line[data-v-00e35dae]{display:flex;flex-direction:row;align-items:center;padding:17px 0 25px 15px}.goods-name .part3-line .left[data-v-00e35dae]{color:#f61212}.goods-name .part3-line .right[data-v-00e35dae]{font-size:16px;font-weight:500;color:#000}.goods-name .part3-content[data-v-00e35dae]{padding:0 15px 75px 15px}.goods-miaosha[data-v-00e35dae]{margin:10px 0 50px 0}.goods-miaosha .line[data-v-00e35dae]{background-color:#fff;height:48px;padding:0 0 0 15px;display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;margin-bottom:1px}.goods-miaosha .line .star[data-v-00e35dae]{line-height:48px;color:#f61212;margin-right:2px}.goods-miaosha .line .line-name[data-v-00e35dae]{line-height:48px;font-size:16px;font-weight:500;color:#000}.goods-miaosha .line .selector[data-v-00e35dae]{line-height:48px;margin-left:auto}.goods-miaosha .line .selector .select[data-v-00e35dae]{font-size:15px;font-weight:500;color:#ccc}.goods-miaosha .line .selector .line-select-new[data-v-00e35dae]{text-align:right;color:#333;font-size:15px;font-weight:500}.goods-miaosha .line .line-right[data-v-00e35dae]{margin-left:auto;text-align:right;font-size:15px}.datetime-picker[data-v-00e35dae] ::before{content:""}.bottom[data-v-00e35dae]{height:50px}.footer[data-v-00e35dae]{background-color:#fff;width:100%;position:fixed;bottom:0}.footer .btn[data-v-00e35dae]{margin:10px 15px}.footer .botton[data-v-00e35dae]{width:100%;height:44px;background-color:#217bfb;border-radius:22px;font-size:15px;font-weight:500;color:#fff;text-align:center;line-height:44px}',""]),e.exports=t},"477b":function(e,t,a){"use strict";var i=a("ac17"),n=a.n(i);n.a},"7f2a":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return i}));var i={uniDatetimePicker:a("19e9").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.goods?a("v-uni-view",[a("v-uni-view",{staticClass:"status"},[a("v-uni-view",{staticClass:"upper"},[e._v(e._s(e.goods.statusName))]),"8"===e.goods.statusCode?a("v-uni-view",{staticClass:"downer"},[e._v("请耐心等待审核结果")]):e._e(),"9"===e.goods.statusCode?a("v-uni-view",{staticClass:"downer"},[e._v(e._s(e.goods.reason))]):e._e(),"3"===e.goods.statusCode?a("v-uni-view",{staticClass:"downer"},[e._v(e._s(e.goods.reason))]):e._e()],1),"roomer"===e.type?a("v-uni-view",{staticClass:"upload"},[e.tempPath?a("v-uni-view",{staticClass:"upload-main",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.uploadImage.apply(void 0,arguments)}}},[a("img",{attrs:{src:e.tempPath,alt:""}})]):a("v-uni-view",{staticClass:"upload-main",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.uploadImage.apply(void 0,arguments)}}},[a("img",{attrs:{src:e.goods.avatar,alt:""}})])],1):e._e(),"normal"===e.type?a("v-uni-view",{staticClass:"upload"},[a("v-uni-view",{staticClass:"upload-main"},[a("img",{attrs:{src:e.goods.avatar,alt:""}})])],1):e._e(),a("v-uni-view",{staticClass:"goods-info"},[a("v-uni-view",{staticClass:"line"},[a("v-uni-view",{staticClass:"star"},[e._v("*")]),a("v-uni-view",{staticClass:"line-name"},[e._v("作品分类")]),a("v-uni-view",{staticClass:"selector"},[a("v-uni-picker",{attrs:{value:e.category,range:e.range,disabled:"normal"===e.type},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindPickerChange.apply(void 0,arguments)}}},[e.category<0?a("v-uni-view",{staticClass:"select"},[e._v("请选择作品分类 >")]):a("v-uni-view",{staticClass:"line-select-new"},[e._v(e._s(e.range[e.category]))])],1)],1)],1),a("v-uni-view",{staticClass:"line"},[a("v-uni-view",{staticClass:"star"},[e._v("*")]),a("v-uni-view",{staticClass:"line-name"},[e._v("作品价格")]),a("v-uni-view",{staticClass:"selector"},[a("v-uni-input",{staticClass:"line-right",attrs:{type:"digit",placeholder:"请输入拍卖所需积分数"},model:{value:e.goods.credit,callback:function(t){e.$set(e.goods,"credit",t)},expression:"goods.credit"}})],1)],1),a("v-uni-view",{staticClass:"line"},[a("v-uni-view",{staticClass:"line-name"},[e._v("画家信息")]),a("v-uni-view",{staticClass:"selector"},[a("v-uni-picker",{attrs:{value:e.artistIndex,range:e.artists,disabled:"normal"===e.type},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindArtChange.apply(void 0,arguments)}}},[e.artistIndex<0?a("v-uni-view",{staticClass:"select"},[e._v("请选择画家 >")]):a("v-uni-view",{staticClass:"line-select-new"},[e._v(e._s(e.artists[e.artistIndex]))])],1)],1)],1)],1),a("v-uni-view",{staticClass:"goods-name"},[a("v-uni-view",{staticClass:"part3-line"},[a("v-uni-view",{staticClass:"left"},[e._v("*")]),a("v-uni-view",{staticClass:"right"},[e._v("作品名称")])],1),a("v-uni-view",{staticClass:"part3-content"},[a("v-uni-input",{attrs:{disabled:"normal"===e.type,type:"text",placeholder:"请输入您的作品名称，不超过30个字",maxlength:"30"},model:{value:e.goods.name,callback:function(t){e.$set(e.goods,"name",t)},expression:"goods.name"}})],1)],1),a("v-uni-view",{staticClass:"goods-name"},[a("v-uni-view",{staticClass:"part3-line"},[a("v-uni-view",{staticClass:"left"},[e._v("*")]),a("v-uni-view",{staticClass:"right"},[e._v("作品描述")])],1),a("v-uni-view",{staticClass:"part3-content"},[a("v-uni-input",{attrs:{disabled:"normal"===e.type,type:"text",placeholder:"请详细描述您的作品"},model:{value:e.goods.description,callback:function(t){e.$set(e.goods,"description",t)},expression:"goods.description"}})],1)],1),"normal"!==e.type?a("v-uni-view",{staticClass:"goods-miaosha"},[a("v-uni-view",{staticClass:"line"},[a("v-uni-view",{staticClass:"star"},[e._v("*")]),a("v-uni-view",{staticClass:"line-name"},[e._v("秒杀时间")]),a("v-uni-view",{staticClass:"selector",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.selectTime.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"line-select-new"},[a("uni-datetime-picker",{staticClass:"datetime-picker",attrs:{type:"datetime","clear-icon":!1,"return-type":"string",placeholder:"请选择秒杀时间 >",border:!1},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.selectTime.apply(void 0,arguments)}},model:{value:e.goods.sellTime,callback:function(t){e.$set(e.goods,"sellTime",t)},expression:"goods.sellTime"}})],1)],1)],1)],1):a("v-uni-view",{staticStyle:{"margin-bottom":"50px"}}),a("v-uni-view",{staticClass:"bottom"}),a("v-uni-view",{staticClass:"footer"},[a("v-uni-view",{staticClass:"btn"},[a("v-uni-view",{staticClass:"botton",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.rePublish()}}},[e._v("重新提交")])],1)],1)],1):e._e()},s=[]},"81e9":function(e,t,a){"use strict";a.r(t);var i=a("7f2a"),n=a("f079");for(var s in n)"default"!==s&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("477b");var o,r=a("f0c5"),d=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"00e35dae",null,!1,i["a"],o);t["default"]=d.exports},ac17:function(e,t,a){var i=a("113c");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("5a12265c",i,!0,{sourceMap:!1,shadowMode:!1})},c365:function(e,t,a){"use strict";var i=a("4ea4");a("a4d3"),a("e01a"),a("c740"),a("4160"),a("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var n=i(a("1da1")),s=i(a("f9e2")),o={data:function(){return{category:"0",range:["积分商城"],tempPath:"",id:"",artistIds:[],artistIndex:-1,artists:[],type:"normal",goods:null,avatar:{baseData:"",fileName:"avatar.png"}}},onLoad:function(e){this.id=e.id,this.type=e.type||"normal"},onShow:function(){var e=this;return(0,n.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getGoodsDetail();case 2:return t.next=4,e.getArtistList();case 4:case"end":return t.stop()}}),t)})))()},methods:{uploadImage:function(){var e=this;uni.chooseImage({sourceType:["camera","album"],sizeType:"compressed",count:1,success:function(t){e.tempPath=t.tempFilePaths[0],pathToBase64(t.tempFilePaths[0]).then((function(t){e.avatar.baseData=t}))}})},getArtistList:function(){var e=this;return(0,n.default)(regeneratorRuntime.mark((function t(){var a,i,n,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.default.getArtistList({start:0,hit:50});case 2:a=t.sent,i=a.data,i.items.length&&(n=[],o=[],i.items.forEach((function(e){o.push(e.name),n.push(e.id)})),e.artistIds=n,e.artists=o,r=n.findIndex((function(t){return t===e.goods.artistId})),r>=0&&(e.artistIndex=r));case 5:case"end":return t.stop()}}),t)})))()},getGoodsDetail:function(){var e=this;return(0,n.default)(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.default.getGoodsDetail({id:e.id});case 3:a=t.sent,i=a.data,e.goods=i,t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()},bindPickerChange:function(e){this.category=e.detail.value},bindArtChange:function(e){this.artistIndex=e.detail.value},selectTime:function(e){},rePublish:function(){var e=this;return(0,n.default)(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.category<0)){t.next=3;break}return uni.showToast({title:"请选择作品分类",icon:"none",duration:2e3}),t.abrupt("return");case 3:if(!(+e.credit<=0)){t.next=6;break}return uni.showToast({title:"请填写积分",icon:"none",duration:2e3}),t.abrupt("return");case 6:if("roomer"!==e.type){t.next=13;break}return a={id:e.goods.id,credit:e.goods.credit,name:e.goods.name,description:e.goods.description,sellTime:e.goods.sellTime,artistId:e.artistIndex>=0?e.artistIds[e.artistIndex]:""},e.avatar.baseData&&(a.avatar=e.avatar),t.next=11,s.default.updatePic(a);case 11:t.next=17;break;case 13:if("normal"!==e.type){t.next=17;break}return i={id:e.goods.id,credit:e.goods.credit},t.next=17,s.default.editMyPic(i);case 17:uni.showToast({title:"更新成功",icon:"success",duration:1e3}),setTimeout((function(){uni.navigateTo({url:"/pages/picManage/picManage"})}),500);case 19:case"end":return t.stop()}}),t)})))()}}};t.default=o},f079:function(e,t,a){"use strict";a.r(t);var i=a("c365"),n=a.n(i);for(var s in i)"default"!==s&&function(e){a.d(t,e,(function(){return i[e]}))}(s);t["default"]=n.a}}]);